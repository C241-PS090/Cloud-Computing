// tipsHandler.js
const express = require('express');
const router = express.Router();
const { createTip, getTipById, updateTip, deleteTip } = require('./tipsModel');

router.post('/create', async (req, res) => {
    const { title, content, imageFile } = req.body;
    const newTip = await createTip(title, content, imageFile);
    res.json(newTip);
});

router.get('/:id', async (req, res) => {
    const tipId = req.params.id;
    const tip = await getTipById(tipId);
    res.json(tip);
});

router.put('/:id', async (req, res) => {
    const tipId = req.params.id;
    const { title, content, imageFile } = req.body;
    const updatedTip = await updateTip(tipId, title, content, imageFile);
    res.json(updatedTip);
});

router.delete('/:id', async (req, res) => {
    const tipId = req.params.id;
    await deleteTip(tipId);
    res.json({ message: 'Tip deleted' });
});

module.exports = router;
